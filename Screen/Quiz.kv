<quizPage>:
    name: "quiz"
    md_bg_color: 21/255, 27/255, 48/255, 1
    MDBoxLayout:
        orientation: "vertical"
        spacing: dp(20)
        padding: dp(20)
        
        MDTopAppBar:
            id: top_app_bar
            height: dp(48)
            size_hint_y: None
            md_bg_color: 16/255, 17/255, 24/255, 1
            title: "Question 1 of 10"
            anchor_x: "left"
            left_action_items: [["arrow-left", root.return_home]]
        
        # Question section
        MDCard:
            size_hint_y: None
            height: dp(150)
            md_bg_color: 16/255, 17/255, 24/255, 1
            radius: [10]
            elevation: 2
            padding: dp(20)
            
            MDLabel:
                id: question_label
                text: "Loading question..."
                theme_text_color: "Primary"
                font_style: "Body1"
                halign: "left"
                valign: "middle"
                text_size: self.size
                markup: True
                
        # Answer buttons in 2x2 grid
        MDGridLayout:
            cols: 2
            rows: 2
            spacing: dp(15)
            size_hint_y: None
            height: dp(200)
            adaptive_height: True
            
            MDRaisedButton:
                id: option_a
                text: "A. Loading..."
                size_hint: 1, None
                height: dp(80)
                md_bg_color: 52/255, 73/255, 94/255, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_size: "14sp"
                text_size: self.size
                halign: "left"
                valign: "center"
                padding: dp(10), dp(5)
                on_press: root.select_answer("A")
                
            MDRaisedButton:
                id: option_b
                text: "B. Loading..."
                size_hint: 1, None
                height: dp(80)
                md_bg_color: 52/255, 73/255, 94/255, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_size: "14sp"
                text_size: self.size
                halign: "left"
                valign: "center"
                padding: dp(10), dp(5)
                on_press: root.select_answer("B")
                
            MDRaisedButton:
                id: option_c
                text: "C. Loading..."
                size_hint: 1, None
                height: dp(80)
                md_bg_color: 52/255, 73/255, 94/255, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_size: "14sp"
                text_size: self.size
                halign: "left"
                valign: "center"
                padding: dp(10), dp(5)
                on_press: root.select_answer("C")
                
            MDRaisedButton:
                id: option_d
                text: "D. Loading..."
                size_hint: 1, None
                height: dp(80)
                md_bg_color: 52/255, 73/255, 94/255, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_size: "14sp"
                text_size: self.size
                halign: "left"
                valign: "center"
                padding: dp(10), dp(5)
                on_press: root.select_answer("D")
        
        # Spacer to push submit button to bottom
        Widget:
            size_hint_y: 1
            
        # Submit button
        MDRaisedButton:
            id: submit_button
            text: "SUBMIT"
            size_hint: 1, None
            height: dp(50)
            md_bg_color: 46/255, 204/255, 113/255, 1
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1
            font_size: "18sp"
            font_style: "Button"
            disabled: True
            on_press: root.submit_answer()